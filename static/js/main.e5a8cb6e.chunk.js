(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{18:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(9),a=n(6),s=n(2),i=n(4),u=n(7),o=(n(18),n(1));function f(){var t,e,n=Object(r.useState)([]),c=Object(u.a)(n,2),f=c[0],j=c[1],b=Object(r.useState)(0),p=Object(u.a)(b,2),O=p[0],l=p[1],h=Object(r.useState)(""),v=Object(u.a)(h,2),d=v[0],g=v[1],m=Object(r.useRef)(!0),x=Object(r.useRef)(null),w=function(){var t=Object(i.a)(Object(s.a)().mark((function t(){var e,n,r;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="https://api.giphy.com/v1/gifs/trending?api_key=rXQdKfTgjQjWCSj9q8QlA8oN3yZsmpAa&limit=10&rating=g&offset=".concat(O),d&&(e="https://api.giphy.com/v1/gifs/search?api_key=rXQdKfTgjQjWCSj9q8QlA8oN3yZsmpAa&limit=10&rating=g&offset=".concat(O,"&q=").concat(d)),t.next=5,fetch(e);case 5:return n=t.sent,t.next=8,n.json();case 8:return r=t.sent,t.abrupt("return",r.data);case 12:t.prev=12,t.t0=t.catch(0),console.log("Error ..");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){m.current&&(m.current=!1,t=new IntersectionObserver(k,y),x.current&&(e=x.current,t.observe(e)))}),[]);var y={root:document.getElementById("items-container"),rootMargin:"20px",threshold:.5},k=function(){var t=Object(i.a)(Object(s.a)().mark((function t(e){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e[0].isIntersecting){t.next=4;break}return t.next=4,l((function(t){return t+5}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){m.current&&S(),m.current=!0}),[O]);var S=function(){var t=Object(i.a)(Object(s.a)().mark((function t(){var e;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:e=t.sent,j((function(t){return[].concat(Object(a.a)(t),Object(a.a)(e))}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(i.a)(Object(s.a)().mark((function t(){var e;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:e=t.sent,j((function(t){return Object(a.a)(e)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"search-bar",children:[Object(o.jsx)("input",{id:"inputBox",onChange:function(t){g(t.target.value)}}),Object(o.jsx)("button",{onClick:function(){l(0),Q()},children:"Search"})]}),Object(o.jsxs)("div",{className:"gif-list",id:"items-container",children:[f.map((function(t){return Object(o.jsx)("img",{src:t.images.preview_gif.url,alt:"Gif Image"},t.id)})),Object(o.jsx)("div",{ref:x})]})]})}var j=document.getElementById("root");Object(c.createRoot)(j).render(Object(o.jsx)(r.StrictMode,{children:Object(o.jsx)(f,{})}))}},[[20,1,2]]]);
//# sourceMappingURL=main.e5a8cb6e.chunk.js.map